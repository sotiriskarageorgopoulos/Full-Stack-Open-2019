{"version":3,"sources":["components/filter.js","components/personForm.js","services/persons.js","components/notification.js","App.js","index.js"],"names":["Filter","filteredValue","handleFilter","value","onChange","PersonForm","addName","newName","handleName","newNumber","handleTelNum","onSubmit","type","baseUrl","axios","get","then","response","data","person","post","id","delete","put","Notification","addMesg","deleteMesg","console","log","undefined","className","App","useState","persons","setPersons","setNewName","setNewNumber","setFilteredValue","isFiltered","setIsFiltered","addNotification","setAddNotification","deleteNotification","setDeleteNotification","useEffect","servicePerson","handleDelButton","event","preventDefault","target","filter","p","window","confirm","name","location","reload","add","isExistPerson","length","number","returnedPerson","map","concat","setTimeout","toLowerCase","includes","toUpperCase","key","onClick","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.85f228bb.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filteredValue,handleFilter}) => {\r\n   return ( \r\n    <form>\r\n       <div>\r\n        <p>filter shown with <input value={filteredValue} onChange={handleFilter} /></p>\r\n    </div>\r\n </form>)\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addName,newName,handleName,newNumber,handleTelNum}) => {\r\n   return (\r\n    <form onSubmit={addName}>\r\n    <div>\r\n      <p>name: <input value={newName} onChange={handleName}/></p>\r\n    </div>\r\n    <div>\r\n      <p>number: <input value={newNumber} onChange={handleTelNum}/></p>\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n   )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\n\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAllPersons = () => {\r\n    const result = axios.get(baseUrl)\r\n    return result.then(response => response.data)\r\n}\r\n\r\nconst addPerson = (person)  => {\r\n    const result = axios.post(baseUrl,person)\r\n    return result.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const result = axios.delete(`${baseUrl}/${id}`)\r\n    return result.then(response => response.data)\r\n}\r\n\r\nconst updatePerson = (id,person) => {\r\n    const result = axios.put(`${baseUrl}/${id}`,person)\r\n    return result.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n                getAllPersons,\r\n                addPerson,\r\n                deletePerson,\r\n                updatePerson\r\n               }","import React from 'react'\r\nimport '../styles/index.css'\r\n\r\nconst Notification = ({addMesg,deleteMesg}) => {\r\n  console.log(addMesg)\r\n  if(addMesg === undefined && deleteMesg === undefined){ return(<></>) }\r\n  else if(addMesg !== undefined){\r\n      return (\r\n          <div className=\"add-notification-style\">\r\n            <h1>{addMesg}</h1>\r\n          </div>\r\n      )\r\n  }\r\n  else if(deleteMesg !== undefined){\r\n    return (\r\n      <div className=\"delete-notification-style\">\r\n        <h1>{deleteMesg}</h1>\r\n      </div>\r\n  )\r\n  }\r\n  return (<></>)\r\n}\r\n\r\nexport default Notification","import React, { useState,useEffect } from 'react'\r\nimport Filter from './components/filter'\r\nimport PersonForm from './components/personForm'\r\nimport servicePerson from './services/persons'\r\nimport Notification from './components/notification'\r\n\r\nconst App = () => {\r\n\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filteredValue, setFilteredValue ] = useState('')\r\n  const [ isFiltered, setIsFiltered ] = useState(false)\r\n  const [ addNotification, setAddNotification ] = useState('')\r\n  const [ deleteNotification, setDeleteNotification ] = useState('')\r\n\r\n  useEffect(()=>{\r\n    servicePerson.getAllPersons()\r\n                 .then(person => setPersons(person))\r\n  },[])\r\n\r\n  const handleName = (event) => {\r\n      setNewName(event.target.value)\r\n  }\r\n\r\n  const handleTelNum = (event) => {\r\n      setNewNumber(event.target.value)\r\n  }\r\n\r\n  const addName = (event) => {\r\n        event.preventDefault()\r\n        const isExistPerson = persons.filter(p => p.name === newName)\r\n        \r\n        if(isExistPerson.length !== 0){\r\n          if(window.confirm(`${isExistPerson[0].name} is already added to phonebook, replace the old number with a new one?`)){\r\n        \r\n              let id = isExistPerson[0].id\r\n              const person = {\r\n                name: newName,\r\n                number: newNumber,\r\n                id: id,\r\n              }\r\n\r\n              servicePerson.updatePerson(id,person)\r\n                           .then(returnedPerson => {\r\n                              setPersons(persons.map(p => p.id !== id ? p : returnedPerson))\r\n                           })\r\n          \r\n            setNewName('')\r\n            setNewNumber('')\r\n          }\r\n        }\r\n        else {\r\n          const person = {\r\n            name: newName,\r\n            number: newNumber,\r\n            id: persons.length+1,\r\n          }\r\n\r\n          setNewName('')\r\n          setNewNumber('')\r\n \r\n          servicePerson.addPerson(person)\r\n                       .then(person => {\r\n                          setPersons(persons.concat(person))\r\n                          setAddNotification(`Added ${person.name}`)\r\n                          setTimeout(()=>{\r\n                            setAddNotification('')\r\n                          },6000)\r\n                        })\r\n        }\r\n  }\r\n\r\n  const handleDelButton = (event) => {\r\n     event.preventDefault()\r\n     const id = event.target.value\r\n     let person = persons.filter(p => p.id == id)\r\n     if(person !== null){\r\n        if(window.confirm(`Delete ${person[0].name} ?`)){\r\n          servicePerson.deletePerson(id)\r\n                       .then(person => {\r\n                          setDeleteNotification(`Information of ${person.name} has already been removed from the server`)\r\n                        }) \r\n          window.location.reload(true);\r\n        }\r\n      }\r\n  }\r\n\r\n  const display = () =>{\r\n      if(isFiltered) {\r\n        return (\r\n          <>\r\n          {persons.map(p=>{\r\n             if(p.name.toLowerCase().includes(filteredValue.toLowerCase()) \r\n             || p.name.toUpperCase().includes(filteredValue.toUpperCase())) \r\n             { \r\n               return (<p key={p.id}> {p.name} {p.number} <button value={p.id} onClick={handleDelButton}>delete</button></p>) \r\n             }\r\n             return ''\r\n          })}\r\n          </>\r\n          )}\r\n      else {\r\n        return (\r\n           <>\r\n            {persons.map(p=>(<p key={p.id}> {p.name} {p.number}<button value={p.id} onClick={handleDelButton}>delete</button></p>))}\r\n           </>\r\n           )}\r\n  }\r\n\r\n  const handleFilter = (event) =>{\r\n    setIsFiltered(true)\r\n    setFilteredValue(event.target.value)\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification add={addNotification} delete={deleteNotification}/>\r\n      <Filter filteredValue={filteredValue} handleFilter={handleFilter}/>\r\n      <h3>Add a new</h3>\r\n      <PersonForm addName={addName}\r\n                  newName={newName}\r\n                  handleName={handleName}\r\n                  newNumber={newNumber}\r\n                  handleTelNum={handleTelNum}/>\r\n      <h2>Numbers</h2>\r\n       {display()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  )"],"sourceRoot":""}